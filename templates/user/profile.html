{% extends "base.html" %}
{% load static %}
{% block title %}My Profile - Blue Sky Summer{% endblock %}

{% block content %}

<div class="profile-wrapper">

    <h1 class="title">My Profile</h1><br>
    <p class="subtitle">Manage your personal information and account settings</p>
    <img src="{% static 'image/separator-img.png' %}" class="separator">

    <div class="outer-container">

        <!-- LEFT SIDE PANEL -->
        <div class="profile-sidebar">
            <img src="{{ user.user_image.url }}" class="avatar">

            <h2 class="username">{{ user.user_name }}</h2>
            <p class="email">{{ user.user_email }}</p>

            <a href="{% url 'update_profile' %}" class="btn-edit">Edit Profile</a>

            <div class="side-links">
                <a href="{% url 'order' %}">My Orders</a>
                <a href="{% url 'wishlist' %}">My Wishlist</a>
                <a href="{% url 'user_messages' %}">Messages</a>
            </div>
        </div>

        <!-- RIGHT SIDE CONTENT AREA -->
        <div class="profile-content">

            <!-- SECTION 1: ACCOUNT INFORMATION -->
            <div class="section-card">
                <h3 class="section-title">Account Information</h3>

                <div class="info-grid">
                    <div>
                        <p class="label">Full Name</p>
                        <p class="value">{{ user.user_name }}</p>
                    </div>

                    <div>
                        <p class="label">Email</p>
                        <p class="value">{{ user.user_email }}</p>
                    </div>

                    <div>
                        <p class="label">Joined On</p>
                        <p class="value">{{ user.created_at|date:"M d, Y" }}</p>
                    </div>
                </div>
            </div>

            <!-- SECTION 2: ACCOUNT ACTIVITY -->
            <div class="section-card">
                <h3 class="section-title">Quick Actions</h3>

                <div class="action-grid">
                    <a href="{% url 'order' %}" class="action-box">
                        <img src="{% static 'image/icon/order.png' %}">
                        <p>View Orders</p>
                    </a>

                    <a href="{% url 'wishlist' %}" class="action-box">
                        <img src="{% static 'image/icon/wishlist.png' %}">
                        <p>My Wishlist</p>
                    </a>

                    <a href="{% url 'user_messages' %}" class="action-box">
                        <img src="{% static 'image/icon/message.png' %}">
                        <p>Messages</p>
                    </a>
                </div>
                <a href="{% url 'logout' %}" class="btn-logout">Logout</a>
            </div>

        </div>
    </div>

</div>


<!-- ============================================================
                        STYLING
============================================================ -->
<style>

.profile-wrapper {
    text-align: center;
    padding: 60px 0;
}

.title {
    font-size: 42px;
    font-weight: 700;
    color: #333;
}

.subtitle {
    color: #666;
    margin-top: -10px;
    font-size: 18px;
}

.separator {
    width: 180px;
    margin-top: 10px;
}

.outer-container {
    display: flex;
    justify-content: center;
    gap: 40px;
    margin-top: 50px;
    width: 90%;
    margin-inline: auto;
}

/* ---------------- LEFT SIDE ---------------- */

.profile-sidebar {
    width: 28%;
    background: #fff;
    padding: 35px 25px;
    border-radius: 18px;
    box-shadow: 0 6px 25px rgba(0,0,0,0.08);
    text-align: center;
}

.avatar {
    width: 160px;
    height: 160px;
    border-radius: 50%;
    border: 5px solid #ffb6c1;
    margin-bottom: 15px;
}

.username {
    font-size: 26px;
    font-weight: 600;
    margin-top: 10px;
}

.email {
    font-size: 15px;
    color: #777;
    margin-bottom: 20px;
}

.btn-edit {
    display: inline-block;
    padding: 12px 25px;
    background: #ff7fa8;
    color: #fff;
    border-radius: 10px;
    margin-bottom: 20px;
    font-size: 16px;
}

.side-links a {
    display: block;
    padding: 12px 0;
    font-size: 18px;
    color: #333;
    border-bottom: 1px solid #eee;
    transition: 0.3s;
}

.side-links a:hover {
    color: #ff7fa8;
}

/* ---------------- RIGHT SIDE ---------------- */

.profile-content {
    width: 68%;
}

.section-card {
    background: #fff;
    padding: 35px;
    border-radius: 18px;
    margin-bottom: 35px;
    box-shadow: 0 6px 25px rgba(0,0,0,0.07);
}

.section-title {
    font-size: 26px;
    font-weight: 700;
    margin-bottom: 20px;
}

.info-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 25px;
}

.label {
    color: #777;
    font-size: 14px;
}

.value {
    font-size: 20px;
    font-weight: 600;
    margin-top: -5px;
}

/* ACTION OPTIONS */
.action-grid {
    display: flex;
    gap: 25px;
}

.action-box {
    flex: 1;
    background: #fafafa;
    padding: 25px;
    border-radius: 14px;
    text-align: center;
    box-shadow: 0 4px 15px rgba(0,0,0,0.05);
    transition: 0.3s;
}

.action-box img {
    width: 55px;
    margin-bottom: 10px;
}

.action-box:hover {
    transform: translateY(-5px);
    background: #ffe4ed;
}

.action-box p {
    font-size: 18px;
    font-weight: 600;
    margin-top: 5px;
}

.btn-logout {
    display: inline-block;
    padding: 12px 25px;
    background:  #ff7fa8;
    color: #fff;
    border-radius: 10px;
    font-size: 16px;
    margin-top: 25px;
    width: 100%;
    text-align: center;
    transition: 0.3s;
    font-weight: 600;
}

.btn-logout:hover {
    background: #d93e59;
}


</style>

<script>
function confirmLogout() {
    Swal.fire({
        title: "Are you sure?",
        text: "You will be logged out.",
        icon: "warning",
        showCancelButton: true,
        confirmButtonColor: "#ff4d6d",
        cancelButtonColor: "#777",
        confirmButtonText: "Logout",
    }).then((result) => {
        if (result.isConfirmed) {
            window.location.href = "{% url 'logout' %}";
        }
    });
}
</script>

{% endblock %}
